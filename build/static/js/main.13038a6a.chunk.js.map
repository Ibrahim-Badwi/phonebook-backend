{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","value","handleChange","onChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","handleDeletePerson","map","person","key","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","delete","App","useState","setPersons","setNewName","setNewNumber","searchTerm","setSearchTerm","filteredPersons","filter","toLowerCase","startsWith","useEffect","personsService","initialPersons","event","target","preventDefault","found","item","alert","returnedObject","concat","JSON","parse","window","confirm","newPersons","p","console","log","ReactDOM","render","document","getElementById"],"mappings":"sLAWeA,EATA,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,aACvB,OACE,iDACoB,IAClB,2BAAOD,MAAOA,EAAOE,SAAUD,MCYtBE,EAhBI,SAAC,GAA0E,IAAxEC,EAAuE,EAAvEA,QAASC,EAA8D,EAA9DA,QAASC,EAAqD,EAArDA,UAAWC,EAA0C,EAA1CA,iBAAkBC,EAAwB,EAAxBA,mBACjE,OACI,0BAAMC,SAAUL,GAChB,sCACQ,2BAAOJ,MAAOK,EAASH,SAAUK,KAEzC,wCACU,2BAAOP,MAAOM,EAAWJ,SAAUM,KAE7C,6BACE,4BAAQE,KAAK,UAAb,UCIKC,EAdC,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,mBACxB,OACI,oCACKD,EAAQE,KAAI,SAACC,EAAQC,GAAT,OACT,wBAAIA,IAAKA,GACJD,EAAOE,KACPF,EAAOG,OACR,2BAAOR,KAAK,SAASV,MAAM,SAASmB,QAAS,kBAAMN,EAAmBE,Y,6BCPpFK,EAAU,sDA8BD,EA1BA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAwB9B,EArBA,SAACC,GAEZ,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAmBhC,EALA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,GAAMF,GAClCH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCsE5BK,EA5FH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTnB,EADS,KACAoB,EADA,OAEcD,mBAAS,IAFvB,mBAET1B,EAFS,KAEA4B,EAFA,OAGkBF,mBAAS,IAH3B,mBAGTzB,EAHS,KAGE4B,EAHF,OAIoBH,mBAAS,IAJ7B,mBAITI,EAJS,KAIGC,EAJH,KASVC,EAAmBF,EACvBvB,EAAQ0B,QAAO,SAAAvB,GAAM,OAAGA,EAAOE,KAAKsB,cAAcC,WAAWL,EAAWI,kBACxE3B,EAUF6B,qBARa,WACXC,IAECnB,MAAK,SAAAoB,GACJX,EAAWW,QAIC,IAqDhB,OACE,6BACE,yCACA,kBAAC,EAAD,CAAQ3C,MAAOmC,EAAYlC,aAlBJ,SAAC2C,GACxBR,EAAcQ,EAAMC,OAAO7C,UAkB3B,yCACA,kBAAC,EAAD,CACEI,QAzDU,SAACwC,GACfA,EAAME,iBACN,IAAIC,GAAQ,GAEZnC,EAAQ0B,QAAO,SAACU,GACVA,EAAK/B,OAASZ,IAChB0C,GAAQ,MAIRA,GACFE,MAAM,GAAD,OAAI5C,EAAJ,gCAOLqC,EALqB,CACnBzB,KAAMZ,EACNa,OAAQZ,GAAa,KAKpBiB,MAAK,SAAA2B,GACJlB,EAAWpB,EAAQuC,OAAOC,KAAKC,MAAMH,KACrCjB,EAAW,IACXC,EAAa,QAmCf7B,QAASA,EACTC,UAAWA,EACXC,iBAhCmB,SAACqC,GACxBX,EAAWW,EAAMC,OAAO7C,QAgCpBQ,mBA7BqB,SAACoC,GAC1BV,EAAaU,EAAMC,OAAO7C,UA8BxB,uCACA,kBAAC,EAAD,CAASY,QAASyB,EAAiBxB,mBAxBZ,SAAAE,GAEzB,GADcuC,OAAOC,QAAP,iBAAyBxC,EAAOE,KAAhC,OACD,CACX,IAAMuC,EAAa5C,EAAQ0B,QAAO,SAAAmB,GAAC,OAAIA,EAAE7B,KAAOb,EAAOa,MACvDc,EACU3B,EAAOa,IACdL,MAAK,SAAA2B,GAAc,OAAIQ,QAAQC,IAAIT,MACtClB,EAAWwB,SCzEjBI,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.13038a6a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ value, handleChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{\" \"}\r\n      <input value={value} onChange={handleChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    );\r\n}\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Persons = ({ persons, handleDeletePerson }) => {\r\n    return (\r\n        <>\r\n            {persons.map((person, key) => \r\n                <li key={key}>\r\n                    {person.name}\r\n                    {person.number}\r\n                    <input type=\"button\" value=\"delete\" onClick={() => handleDeletePerson(person)}/>\r\n                </li>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Persons;","import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://lit-thicket-58030.herokuapp.com/api/persons\";\r\n// const baseUrl = \"http://localhost:3001/persons\";\r\n// const baseUrl = \"http://localhost:3001/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst create2 = async (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  const response = await request;\r\n  return response.data;\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id, newObject) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\n\r\nimport personsService from \"./services/persons\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  // const filteredPersons = ((persons.length > 0) && searchTerm)\r\n  //   ? persons.filter(person =>person.name.toLowerCase().startsWith(searchTerm.toLowerCase()))\r\n  //   : persons\r\n\r\n  const filteredPersons = (searchTerm)\r\n  ? persons.filter(person =>person.name.toLowerCase().startsWith(searchTerm.toLowerCase()))\r\n  : persons\r\n\r\n  const hook = () => {\r\n    personsService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n      setPersons(initialPersons);\r\n    })\r\n  };\r\n\r\n  useEffect(hook, []);\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault();\r\n    let found = false;\r\n\r\n    persons.filter((item) => {\r\n      if (item.name === newName) {\r\n        found = true;\r\n      }\r\n    });\r\n\r\n    if (found) {\r\n      alert(`${newName} already added to phonebook`);\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber || \"\",\r\n      };\r\n    \r\n      personsService\r\n        .create(personObject)\r\n        .then(returnedObject => {\r\n          setPersons(persons.concat(JSON.parse(returnedObject)));\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        })\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n      setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const handleDeletePerson = person => {\r\n    var proceed = window.confirm(`Delete ${person.name} ?`);\r\n    if (proceed) {\r\n      const newPersons = persons.filter(p => p.id !== person.id);\r\n      personsService\r\n        .remove(person.id)\r\n        .then(returnedObject => console.log(returnedObject))\r\n      setPersons(newPersons);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter value={searchTerm} handleChange={handleSearchChange} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm \r\n        addName={addName} \r\n        newName={newName} \r\n        newNumber={newNumber} \r\n        handleNameChange={handleNameChange} \r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={filteredPersons} handleDeletePerson={handleDeletePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}