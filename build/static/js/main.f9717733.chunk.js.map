{"version":3,"sources":["components/Notification.js","components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Footer.js","App.js","index.js"],"names":["Notification","message","className","Filter","value","handleChange","onChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","handleDeletePerson","map","person","key","id","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","delete","Footer","style","color","fontStyle","fontSize","App","useState","setPersons","setNewName","setNewNumber","searchTerm","setSearchTerm","setMessage","filteredPersons","filter","toLowerCase","startsWith","useEffect","personsService","initialPersons","event","target","preventDefault","returnedObject","concat","setTimeout","catch","error","console","log","Array","from","document","querySelectorAll","forEach","input","window","confirm","newPersons","p","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f9717733.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === \"\"){\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Notification;","import React from \"react\";\r\n\r\nconst Filter = ({ value, handleChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{\" \"}\r\n      <input value={value} onChange={handleChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addName}>\r\n        <div>\r\n          name: <input value={newName}  onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber}  onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    );\r\n}\r\n\r\nexport default PersonForm;","import React from 'react';\r\n\r\nconst Persons = ({ persons, handleDeletePerson }) => {\r\n    return (\r\n        <>\r\n            {persons.map(person => \r\n                    <li key={person.id} className=\"person\">\r\n                        {person.name}\r\n                        {person.number}\r\n                        <input className=\"delete\" type=\"button\" value=\"delete\" onClick={() => handleDeletePerson(person)}/>\r\n                    </li>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Persons;","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.post(`${baseUrl}/${id}`, newObject);\r\n    return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id, newObject) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    const footerStyle = {\r\n        color: 'green',\r\n        fontStyle: 'italic',\r\n        fontSize: 16\r\n    }\r\n    return (\r\n        <div style={footerStyle}>\r\n            <br />\r\n            <em>Phonebook app, Department of Computer Science, University of Helsinki 2020</em>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Notification from \"./components/Notification\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\n\r\nimport personsService from \"./services/persons\";\r\nimport Footer from \"./components/Footer\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const filteredPersons = searchTerm\r\n  ? persons.filter(person =>\r\n      person.name.toLowerCase().startsWith(searchTerm.toLowerCase())\r\n    )\r\n  : persons;\r\n\r\n  const hook = () => {\r\n    personsService\r\n    .getAll()\r\n    .then(initialPersons => {\r\n      setPersons(initialPersons);\r\n    })\r\n  };\r\n\r\n  useEffect(hook, []);\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault();\r\n    \r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n  \r\n\r\n    personsService\r\n      .create(newPerson)\r\n      .then(returnedObject => {\r\n        setPersons(persons.concat(returnedObject));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n\r\n        setMessage(`${returnedObject.name} created`)\r\n        \r\n        setTimeout(() => {\r\n          setMessage(\"\");\r\n        }, 3000);\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data.error);\r\n        setMessage(error.response.data.error);\r\n        setTimeout(() => {\r\n          setMessage(\"\");\r\n        }, 3000);\r\n      })\r\n    \r\n      Array.from(document.querySelectorAll(\"input\")).forEach(\r\n        input => (input.value = \"\")\r\n      );\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n      setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const handleDeletePerson = person => {\r\n    let proceed = window.confirm(`Delete ${person.name} ?`);\r\n    if (proceed) {\r\n      const newPersons = persons.filter(p => p.id !== person.id);\r\n      personsService\r\n        .remove(person.id)\r\n        .then(returnedObject => {\r\n          setMessage(returnedObject.message);\r\n          setTimeout(() => {\r\n            setMessage(\"\");\r\n          }, 3000)\r\n        })\r\n      setPersons(newPersons);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Filter value={searchTerm} handleChange={handleSearchChange} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm \r\n        addName={addName} \r\n        newName={newName} \r\n        newNumber={newNumber} \r\n        handleNameChange={handleNameChange} \r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={filteredPersons} handleDeletePerson={handleDeletePerson} />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}